# Redis Sentinel Configuration for High Availability
# ForgeFlow v2 Team Collaboration - Production Setup

# Sentinel Configuration
port 26379
sentinel announce-ip 127.0.0.1
sentinel announce-port 26379

# Monitor Redis Master
sentinel monitor forgeflow-master 127.0.0.1 6379 2
sentinel auth-pass forgeflow-master ${REDIS_PASSWORD}
sentinel down-after-milliseconds forgeflow-master 5000
sentinel parallel-syncs forgeflow-master 1
sentinel failover-timeout forgeflow-master 10000

# Notification Scripts
# sentinel notification-script forgeflow-master /etc/redis/scripts/notify.sh
# sentinel client-reconfig-script forgeflow-master /etc/redis/scripts/reconfig.sh

# Security
# requirepass ${SENTINEL_PASSWORD}

# Logging
logfile /var/log/redis/sentinel.log
loglevel notice

# Performance
sentinel deny-scripts-reconfig yes

# TLS Configuration (Production)
# tls-port 26380
# tls-cert-file /etc/redis/tls/sentinel.crt
# tls-key-file /etc/redis/tls/sentinel.key
# tls-ca-cert-file /etc/redis/tls/ca.crt

# Additional Monitoring
sentinel resolve-hostnames yes
sentinel announce-hostnames yes